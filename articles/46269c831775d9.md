---
title: "Nix ã§ Agent Skills ã‚’ç®¡ç†ã™ã‚‹"
emoji: "ğŸª¬"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["nix", "agentskills"]
published: false
---

## ã¯ã˜ã‚ã«
Model Context Protocol ã ãªã‚“ã ã¨è¨€ã£ã¦ã„ãŸæ™‚æœŸã‚‚ã‚‚ã†æ‡ã‹ã—ãã€10 æœˆã« Agent Skills ãªã‚‹ã‚‚ã®ãŒ Anthropic ã‹ã‚‰ç™ºè¡¨ã•ã‚Œã€12 æœˆ 18 æ—¥ã«ã‚ªãƒ¼ãƒ—ãƒ³ãªè¦æ ¼ã¨ãªã‚Šã¾ã—ãŸã€‚ã“ã“ä¸€é€±é–“ãšã£ã¨é©šãå±‹ãŒé©šã„ã¦ã¦ã‚„ã‹ã¾ã—ã‹ã£ãŸã§ã™ã­ã€‚

https://platform.claude.com/docs/ja/agents-and-tools/agent-skills/overview


MCP Server ã«ã¤ã„ã¦ã¯ã™ã§ã« Nix ã‚’ç”¨ã„ã¦å®£è¨€çš„ã«ç®¡ç†ã™ã‚‹æ‰‹æ³•ãŒå­˜åœ¨ã—ã¾ã™ãŒã€ã¾ã  Agent Skills ã«ã¤ã„ã¦ Nix ã§ç®¡ç†ã™ã‚‹æ‰‹æ³•ã¯è¦‹å½“ãŸã‚‰ãªã„ã‚ˆã†ã«æ€ãˆã¾ã—ãŸã€‚é Nix ã§ã®æ‰‹æ³•ã¨ã—ã¦ã¯ OpenSkills ãªã‚‹ã‚‚ã®ãŒã‚ã‚‹ã‚‰ã—ã„ã§ã™ã€‚è©³ã—ãã¯èª¿ã¹ã‚‹æ°—ã«ãªã‚Šã¾ã›ã‚“ã§ã—ãŸï¼ˆNix ã§ã¯ãªã„ã®ã§ï¼‰

https://github.com/numman-ali/openskills

Agent Skills ã§ LLM ã«æ‚ªæ„ã®ã‚ã‚‹å‹•ä½œã‚’ã•ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ã‹ã¯ã•ã¦ãŠãã€è­¦æˆ’ã™ã‚‹ã“ã¨ã«è¶Šã—ãŸã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚Nix flakes ã§ä¾å­˜é–¢ä¿‚ã‚’ãƒ­ãƒƒã‚¯ã—ã¦ãŠã‘ã°ã€æœªæ¥ã®ã‚³ãƒŸãƒƒãƒˆã«ãŠã„ã¦æ‚ªæ„ã®ã‚ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«å·®ã—æ›¿ãˆã‚‰ã‚ŒãŸã¨ã—ã¦ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚

ã“ã‚Œã‚’æœŸå¾…ã—ã¦ã€Nix ã‚’ç”¨ã„ãŸ Agent Skills è¨­å®šã®ãŸã‚ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ [agent-skills-nix](https://github.com/Kyure-A/agent-skills-nix) ã‚’ä½œæˆã—ã¾ã—ãŸã€‚

https://github.com/Kyure-A/agent-skills-nix

## ãªãœ Nixï¼Ÿ
å…ˆã»ã©è¿°ã¹ãŸã‚ˆã†ã«ã€LLM ã¸ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã¸ã®å¯¾ç­–ã®ãŸã‚ã§ã™ã€‚
ã¨ã„ã†ã®ã¯å»ºå‰ã§ã€ç§ã¯ home-manager ã§ã™ã¹ã¦ã®è¨­å®šã‚’ç®¡ç†ã—ã¦ã„ã‚‹ã®ã§ Agent Skills ã«ã¤ã„ã¦ã‚‚ä¸€å…ƒç®¡ç†ã—ãŸã‹ã£ãŸã ã‘ã§ã™ã€‚

## å®Ÿè£…
MCP Server ã¨ã¯é•ã„ã€Agent Skills ã¯å˜ãªã‚‹ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ãã‚Œã«ä»˜éšã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã‚ã‚‹ã ã‘ã§ã™ã‹ã‚‰ã€å˜ã«å„ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã”ã¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’è²¼ã£ã¦ã‚„ã‚Œã°ã‚ˆã•ãã†ã§ã™ã€‚
æœ€åˆã¯å…¨ã¦ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã¤ã„ã¦ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã§å…¨ã¦é…ç½®ã™ã‚‹æƒ³å®šã§ã—ãŸãŒã€Codex ã«ã¤ã„ã¦ã¯å®Ÿä½“ãŒãªã‘ã‚Œã° Agent Skills ã‚’èª­ã¿è¾¼ã‚“ã§ãã‚Œãªã„ã‚‰ã—ãã€å®Ÿä½“ã‚’é…ç½®ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚‚å®Ÿè£…ã—ã¾ã—ãŸã€‚

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
ã“ã®æ‰‹ã®å…ˆé§†è€…ã§ã‚ã‚‹ [mcp-servers-nix](https://zenn.dev/natsukium/articles/f010c1ec1c51b2#%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E3%83%93%E3%83%AB%E3%83%89) ã¯ NixOS ã‚„ home-manager ãªã©ã®ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ä¾å­˜ã—ã¦ã„ãªã„ã®ãŒç‰¹å¾´ã§ã™ãŒã€agent-skills-nix ã«ã¤ã„ã¦ã¯ home-manager ã«ã—ã£ã‹ã‚Šä¾å­˜ã—ã¦ã„ã¾ã™ã€‚

Agent Skills ã®ãƒªãƒã‚¸ãƒˆãƒªãŒãŸãã•ã‚“ config ã® flake ã® inputs ã«ä¸¦ã¶ã®ã¯æ°—æŒã¡æ‚ªã„ã®ã§ã€å­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« `flake.nix` ã¨ `default.nix` ã‚’ä½œã‚Šã€å­ä¾›ã® flake ã‚’è¦ªã® flake ãŒ inputs ã«å…¥ã‚Œã‚‹å½¢å¼ã«ã—ã¦ä¾å­˜é–¢ä¿‚ã‚’åˆ†é›¢ã—ã¦ã„ã¾ã™ã€‚
`AGENTS.md` / `CLAUDE.md` ãªã©ã®æŒ‡ç¤ºç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯æ‚©ã‚“ã§ã„ã¦ã€Agent Skills ã§ã¯ãªã„ã—ãª......ã¨æ€ã„é…ç½®æ©Ÿèƒ½ã¯å®Ÿè£…ã—ã¦ã„ã¾ã›ã‚“ã€‚

```nix:flake.nix
{
  description = "Agent Skills";

  inputs = {
    agent-skills.url = "github:Kyure-A/agent-skills-nix";
    anthropic-skills = {
      url = "github:anthropics/skills";
      flake = false;
    };
    my-skills = {
      url = "github:Kyure-A/skills";
      flake = false;
    };
  };

  outputs =
    {
      self,
      agent-skills,
      anthropic-skills,
      my-skills,
      ...
    }:
    {
      homeManagerModules.default =
        { ... }@args: import ./default.nix (args // { inherit agent-skills anthropic-skills my-skills; });
    };
}
```

```nix:default.nix
{
  lib,
  agent-skills,
  anthropic-skills,
  my-skills,
  ...
}:
{
  imports = [
    (import "${agent-skills.outPath}/modules/home-manager/agent-skills.nix" {
      inherit lib;
      inputs = { };
    })
  ];

  programs.agent-skills = {
    enable = true;
    sources = {
      anthropic = {
        path = anthropic-skills;
        subdir = "skills";
      };
      personal = {
        path = my-skills;
      };
    };
    skills.enable = [
      "frontend-design"
      "skill-creator"
    ];
    skills.enableAll = [ "personal" ];
    targets = {
      codex = {
        dest = ".codex/skills";
        structure = "copy-tree";
      };
      claude = {
        dest = ".claude/skills";
        structure = "copy-tree";
      };
    };
  };
}
```

Agent Skills ã‚’å…¨ã¦æœ‰åŠ¹ã«ã—ãŸã„ãƒªãƒã‚¸ãƒˆãƒªï¼ˆä¾‹ãˆã°è‡ªèº«ãŒä½œã£ãŸã‚‚ã®ï¼‰ã«ã¤ã„ã¦ã¯ `skills.enableAll` ã«è¨˜è¿°ã™ã‚Œã°ã™ã¹ã¦ãŒãƒªãƒ³ã‚¯ã•ã‚Œã¾ã™ã€‚Anthropics/Skills ã®ã‚ˆã†ãªå…¨éƒ¨å…¥ã‚Šã®ã‚‚ã®ã‹ã‚‰ä¸€éƒ¨ã®ã¿æŠœãå‡ºã—ãŸã„å ´åˆã¯ã€`skills.enable` ã«ãã‚Œãã‚Œã®ã‚¹ã‚­ãƒ«åã‚’è¨˜è¿°ã—ã¦ã‚ã’ã‚Œã°ã€ãã‚Œã‚‰ã®ã¿ãŒãƒªãƒ³ã‚¯ã•ã‚Œã¾ã™ã€‚

## ã¾ã¨ã‚
- Agent Skills ã‚’ Nix flake ã§ãƒ”ãƒ³ç•™ã‚ã—ã¦ã€å°†æ¥ã®å·®ã—æ›¿ãˆã‚„æ‚ªæ„ã‚ã‚‹å¤‰æ›´ã«å¼·ãã§ãã‚‹ã‚ˆï¼
- home-manager ã§ Agent Skills ã‚’å®£è¨€çš„ã«ç®¡ç†ã§ãã‚‹ã‚ˆï¼
- æ—¢å­˜ã® Agent Skills ãƒªãƒã‚¸ãƒˆãƒªã‚’ãã®ã¾ã¾æŸã­ã‚‰ã‚Œã‚‹ã®ã§ã€è¤‡æ•°ã‚½ãƒ¼ã‚¹ã®çµ±åˆãŒæ¥½ã ã‚ˆï¼
- ãŸã ã— home-manager ä¾å­˜ã§ã‚ã‚Šã€`AGENTS.md` ã®ç”Ÿæˆ/æ›´æ–°ã¯åˆ¥é€”è¡Œã†å¿…è¦ãŒã‚ã‚‹ã‚ˆï¼

## ãŠã‚ã‚Šã«
åŠå¹´å‰ãã‚‰ã„ã¾ã§ã¯ LLM ãŒ Nix ã‚’æ›¸ãã®ã¯é›£ã—ãã†ã§ã—ãŸãŒã€ä»Šã¨ãªã£ã¦ã¯ `gpt-5.2-codex xhigh` ãŒã»ã¨ã‚“ã©ä½œã£ã¦ãã‚Œã¦é€²æ­©ã‚’æ„Ÿã˜ã¦ã„ã¾ã™ã€‚
